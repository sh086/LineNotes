(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{424:function(s,t,a){s.exports=a.p+"assets/img/Lusifer2018080517010001.e57d8482.png"},425:function(s,t,a){s.exports=a.p+"assets/img/Lusifer2018080517010002.4ca9baee.png"},426:function(s,t,a){s.exports=a.p+"assets/img/Lusifer2018080517010003.13c03970.png"},541:function(s,t,a){"use strict";a.r(t);var n=a(25),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),n("p",[s._v("​\t　Nginx 是一个"),n("strong",[s._v("高性能的HTTP和反向代理web服务器")]),s._v("，同时也提供了IMAP/POP3/SMTP服务。Nginx 是用于"),n("strong",[s._v("页面的软负载均衡")]),s._v("，能够支撑 5 万并发链接；Zuul是用于"),n("strong",[s._v("API的软负载均衡")]),s._v("。若并发过大，建议使用"),n("strong",[s._v("硬负载")]),s._v("，如"),n("code",[s._v("F5负载均衡服务器")]),s._v("。")]),s._v(" "),n("p",[s._v("​\t　Nginx 可以实现"),n("strong",[s._v("CDN静态资源分发网络")]),s._v("；可以实现在"),n("strong",[s._v("一台服务器虚拟出多个网站")]),s._v("；也可以在服务器集群中实现"),n("strong",[s._v("反向代理、负载均衡")]),s._v("。")]),s._v(" "),n("p",[n("strong",[s._v("参考资料：")])]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx官网"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),n("p",[s._v("​\t　代理服务器，客户机在发送请求时，不会直接发送给目的主机，而是先发送给代理服务器，代理服务接受客户机请求之后，再向主机发出，并接收目的主机返回的数据，存放在代理服务器的硬盘中，再发送给客户机。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(424),alt:"Lusifer2018080517010001"}})]),s._v(" "),n("p",[s._v("​\t　代理服务器可以"),n("strong",[s._v("提高访问速度")]),s._v("。由于目标主机返回的数据会存放在代理服务器的硬盘中，因此下一次客户再访问相同的站点数据时，会直接从代理服务器的硬盘中读取，起到了缓存的作用，尤其对于热门站点能明显提高请求速度。")]),s._v(" "),n("p",[s._v("​\t　代理服务器可以起到"),n("strong",[s._v("防火墙")]),s._v("的作用。由于所有的客户机请求都必须通过代理服务器访问远程站点，因此可在代理服务器上设限，过滤某些不安全信息。")]),s._v(" "),n("p",[s._v("​\t　可以"),n("strong",[s._v("通过代理服务器访问不能访问的目标站点")]),s._v("。互联网上有许多开放的代理服务器，客户机在访问受限时，可通过不受限的代理服务器访问目标站点（局域网、外网）。")]),s._v(" "),n("p",[s._v("（1）正向代理")]),s._v(" "),n("p",[s._v("​\t　正向代理，"),n("strong",[s._v("架设在客户机与目标主机之间")]),s._v("，只用于代理内部网络对 Internet 的连接请求，客户机必须指定代理服务器，并将本来要直接发送到 Web 服务器上的 Http 请求发送到代理服务器中。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(425),alt:"Lusifer2018080517010002"}})]),s._v(" "),n("p",[s._v("（2）反向代理")]),s._v(" "),n("p",[s._v("​\t　反向代理服务器"),n("strong",[s._v("架设在服务器端")]),s._v("，通过缓冲经常被请求的页面来缓解服务器的工作量，将客户机请求转发给内部网络上的目标服务器；并将从服务器上得到的结果返回给 Internet 上请求连接的客户端，此时"),n("strong",[s._v("代理服务器与目标主机一起对外表现为一个服务器")]),s._v("。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(426),alt:"Lusifer2018080517010003"}})]),s._v(" "),n("p",[s._v("​\t　现在许多大型 web 网站都用到反向代理。除了可以防止外网对内网服务器的恶性攻击、缓存以减少服务器的压力和访问安全控制之外，还可以进行负载均衡，将用户请求分配给多个服务器。")]),s._v(" "),n("h2",{attrs:{id:"快速开始"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[s._v("#")]),s._v(" 快速开始")]),s._v(" "),n("p",[s._v("​\t　新增"),n("code",[s._v("docker-compose.yml")]),s._v(" 配置文件，然后执行启动命令"),n("code",[s._v("docker-compose up -d")]),s._v("启动即可。")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.1'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nginx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("80:80")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Asia/Shanghai\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/docker/nginx/config/nginx.conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/nginx/nginx.conf "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx.conf 配置")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/docker/nginx/logs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/log/nginx "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/docker/nginx/html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/usr/share/nginx/html "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 静态资源")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"nginx实践"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx实践"}},[s._v("#")]),s._v(" Nginx实践")]),s._v(" "),n("h3",{attrs:{id:"虚拟主机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟主机"}},[s._v("#")]),s._v(" 虚拟主机")]),s._v(" "),n("p",[s._v("​\t　虚拟主机是一种特殊的软硬件技术，它可以"),n("strong",[s._v("将网络上的每一台计算机分成多个虚拟主机")]),s._v("，"),n("strong",[s._v("每个虚拟主机可以独立对外提供 www 服务")]),s._v("，这样就可以"),n("strong",[s._v("实现一台主机对外提供多个 web 服务")]),s._v("，每个虚拟主机之间是独立的，互不影响的。")]),s._v(" "),n("p",[s._v("​\t　通过 Nginx 可以实现虚拟主机的配置，"),n("strong",[s._v("每个 server 就是一个虚拟主机")]),s._v("。Nginx 支持三种类型的虚拟主机配置，基于 IP 的虚拟主机、基于域名的虚拟主机、基于端口的虚拟主机。")]),s._v(" "),n("p",[s._v("（1）基于域名的虚拟主机配置")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web服务1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("      80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        server_name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" admin.web.itoken.funtl.com;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/admin {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        root")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  /usr/share/admin/wwwroot/;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" index.html index.htm;")]),s._v("\n    }\n}\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# web服务2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("      80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        server_name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" customer.web.itoken.funtl.com;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/customer {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        root")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  /usr/share/customer/wwwroot/;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" index.html index.htm;")]),s._v("\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("（2）基于端口的虚拟主机配置")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # 配置监听端口")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("      80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server_name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" 192.168.75.145;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/system {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("        # 使用 root 指令指定虚拟主机目录,即网页存放目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        root")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  /usr/share/system/wwwroot/;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("        # 指定欢迎页面，按从左到右顺序查找")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" index.html index.htm;")]),s._v("\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"反向代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[s._v("#")]),s._v(" 反向代理")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置一个代理即 tomcat1 服务器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# upstream 配置中的名称不可以有下划线("_")')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("tomcatServer1 {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # 可使用 IP:port 或者 域名 配置代理")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9090;")]),s._v("\n}\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置一个虚拟主机")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    listen")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server_name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("admin.service.itoken.funtl.com;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    location")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/ {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("        # 域名 admin.service.itoken.funtl.com 的请求全部转发到tomcatServer1上")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        proxy_pass")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("http://tomcatServer1;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("        # 欢迎页面，按照从左到右的顺序查找页面")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("        index")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("index.jsp index.html index.htm;")]),s._v("\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"负载均衡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡"}},[s._v("#")]),s._v(" 负载均衡")]),s._v(" "),n("p",[s._v("​\t　Nginx 作为负载均衡服务器，用户请求先到达 Nginx ，再由 Nginx 根据负载配置将请求转发至 Tomcat 服务器。从而扩展网络设备和服务器的带宽、增加吞吐量、加强网络数据处理能力、提高网络的灵活性和可用性。")]),s._v(" "),n("p",[s._v("​\t　Nginx支持同时设置多组的负载均衡，用来给不用的server来使用。")]),s._v(" "),n("p",[s._v("（1）轮询（默认）")]),s._v(" "),n("p",[s._v("​\t　每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器down掉，能自动剔除。")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# upstream 定义负载均衡设备的 Ip及设备状态 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myServer {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9090;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9091;")]),s._v("\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("（2）weight")]),s._v(" "),n("p",[s._v("​\t　指定轮询几率，weight和访问比率成正比，用于后端服务器性能不均的情况。")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# upstream 定义负载均衡设备的 Ip及设备状态 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myServer {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9090 weight=10;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9091 weight=10;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # 默认为 1 ,weight 越大，负载的权重就越大")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9092;")]),s._v("\n    \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # down：表示当前的 server 暂时不参与负载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("127.0.0.1:9090 down;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # backup：其它所有的非backup机器,down或者忙的时候，才会请求backup机器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("127.0.0.1:7070 backup;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # max_fails：允许请求失败的次数,默认为1,当超过最大次数时，返回 proxy_next_upstream 模块定义的错误")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # fail_timeout：max_fails次失败后，暂停的时间")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("127.0.0.1:18080 max_fails=10 fail_timeout=60s;  ")]),s._v("\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("（3）ip_hash")]),s._v(" "),n("p",[s._v("​\t　"),n("strong",[s._v("每个请求按访问ip的hash结果分配")]),s._v("，这样每个访客固定访问一个后端服务器，可以解决session的问题。")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# upstream 定义负载均衡设备的 Ip及设备状态 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myServer {")]),s._v("\n    ip_hash;\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9090;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.75.145:9091;")]),s._v("\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("（4）fair（第三方）")]),s._v(" "),n("p",[s._v("​\t　按后端服务器的响应时间来分配请求，"),n("strong",[s._v("响应时间短的优先分配")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# upstream 定义负载均衡设备的 Ip及设备状态 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myServer {")]),s._v("\n    fair;\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("server1.linuxany.com;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("server2.linuxany.com;")]),s._v("\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("（5）url_hash（第三方）")]),s._v(" "),n("p",[s._v("​\t　按访问url的hash结果来分配请求，"),n("strong",[s._v("使每个url定向到同一个后端服务器")]),s._v("，后端服务器为"),n("strong",[s._v("缓存")]),s._v("时比较有效。")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("backend {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    hash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("$request_uri;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("server1.linuxany.com;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("server2.linuxany.com;")]),s._v("\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("​\t　特别的，"),n("strong",[s._v("在upstream中加入hash语句，server语句中不能写入weight等其他的参数")]),s._v("，hash_method是使用的hash算法")]),s._v(" "),n("h2",{attrs:{id:"附录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[s._v("#")]),s._v(" 附录")]),s._v(" "),n("h3",{attrs:{id:"nginx-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-conf"}},[s._v("#")]),s._v(" nginx.conf")]),s._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("user")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" nginx;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CPU内核数量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("worker_processes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" auto;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("error_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" /var/log/nginx/error.log notice;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("pid")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("       /var/run/nginx.pid;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("events")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("    # 一个子线程下的连接数")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    worker_connections")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" 1024;")]),s._v("\n}\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("http")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    include")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("      /etc/nginx/mime.types;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    default_type")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" application/octet-stream;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    sendfile")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("       on;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    keepalive_timeout")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" 65;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    log_format")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" main  '$remote_addr - $remote_user [$time_local] \"$request\" '")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("                      '$status")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v('$body_bytes_sent "$http_referer" \'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v('                      \'"$http_user_agent"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v('"$http_x_forwarded_for"\';')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    access_log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" /var/log/nginx/access.log  main;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("    server")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlisten")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("      80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlisten")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" [::]:80;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tserver_name")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" localhost;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlocation")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/ {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\troot")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  /usr/share/nginx/html;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v(" index.html index.htm;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t\t# 此处的 @router 实际上是引用下面的转发，否则在 Vue 路由刷新时可能会抛出 404")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\ttry_files")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("$uri $uri/ @router;")]),s._v("\n\t\t}\n\t\t\t\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t# 由于路由的资源不一定是真实的路径，无法找到具体文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t# 所以需要将请求重写到 index.html 中，然后交给真正的 Vue 路由处理请求资源")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlocation")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("@router {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\trewrite")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("^.*$ /index.html last;")]),s._v("\n\t\t}\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlocation")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/api {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tproxy_pass")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("http://127.0.0.1:8080/api;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tadd_header")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("Access-Control-Allow-Origin *;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tadd_header")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("Access-Control-Allow-Methods 'GET, POST, OPTIONS';")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tadd_header")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("Access-Control-Allow-Headers 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization';")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tclient_max_body_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1024m;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tclient_body_buffer_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1024k;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tproxy_buffer_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1024k;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tproxy_buffers")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("6 500k;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tproxy_busy_buffers_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1024k;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tproxy_temp_file_write_size")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("1024k;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\tif")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("($request_method = 'OPTIONS') {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\t   return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("204;")]),s._v("\n\t\t\t}\n\t   }\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t   error_page")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  500 502 503 504  /50x.html;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\tlocation")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("/50x.html {")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t\t\troot")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("  /usr/share/nginx/html;")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\t   }")]),s._v(" \n\t}\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);